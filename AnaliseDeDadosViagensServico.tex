% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\hypersetup{
  pdftitle={Analisando dados abertos de viagens a serviço},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}
\urlstyle{same} % disable monospaced font for URLs
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering

\title{Analisando dados abertos de viagens a serviço}
\author{}
\date{\vspace{-2.5em}}

\begin{document}
\maketitle

\hypertarget{objetivo}{%
\subsection{Objetivo}\label{objetivo}}

A proposta deste tópico é colocar em prática algumas das funções do R
trabalhando com a análise de dados abertos de viagens a serviço, com o
intuito de subsidiar a tomada de medidas mais eficientes na redução dos
gastos com os custos dessas viagens no setor público.

\hypertarget{definiuxe7uxe3o-do-problema}{%
\subsection{Definição do problema}\label{definiuxe7uxe3o-do-problema}}

Para resolver um problema, primeiramente temos que entendê-lo. Assim,
precisamos entender os gastos com viagens a serviço para tomar medidas
mais eficientes e, com isso, reduzir os custos dessas viagens.

\hypertarget{questuxf5es-relevantes}{%
\subsection{Questões relevantes}\label{questuxf5es-relevantes}}

Qual é o valor gasto por órgão? Qual é o valor gasto por cidade? Qual é
a quantidade de viagens por mês?

\hypertarget{obtenuxe7uxe3o-dos-dados}{%
\subsection{Obtenção dos dados}\label{obtenuxe7uxe3o-dos-dados}}

Primeiramente vamos acessar o portal da transparencia do governo
federal. disponivel em: \url{http://www.portaltransparencia.gov.br/} Na
aba dados do portal, iremos extrair os dados de Viagens realizadas a
serviço, referente ao ano de 2019. Os dados extraidos estão no formato
CSV.

\hypertarget{carregando-os-dados}{%
\subsection{Carregando os dados}\label{carregando-os-dados}}

Acessando primeiramente a documentação da funcao que fará a leitura dos
arquivos extraidos.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{?read.csv}
\end{Highlighting}
\end{Shaded}

Em seguida, aplicamos a função atribuindo a mesma em uma variavel
chamada viagens.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{viagens <-}\StringTok{ }\KeywordTok{read.csv}\NormalTok{(}\DataTypeTok{file =} \StringTok{"/Users/eraldomaia/Desktop/Enap/Análise de Dados em Linguagem R/Módulo 4 - Análise de Dados na Prática/AnaliseDeDadosViagensServico/Dados/Viagens-2019/2019_Viagem.csv"}\NormalTok{, }\DataTypeTok{sep =}\StringTok{';'}\NormalTok{, }\DataTypeTok{dec =} \StringTok{','}\NormalTok{, }\DataTypeTok{fileEncoding=}\StringTok{"latin1"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Agora verificamos se os dados foram carregados corretamente. Essa funcao
head() apresenta apenas as primeiras linhas do DataSet.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{head}\NormalTok{(viagens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##   Identificador.do.processo.de.viagem Número.da.Proposta..PCDP.  Situação
## 1                            15045825            Sem informação Realizada
## 2                            15100682            Sem informação Realizada
## 3                            15114708            Sem informação Realizada
## 4                            15163874            Sem informação Realizada
## 5                            15166192            Sem informação Realizada
## 6                            15188479            Sem informação Realizada
##   Viagem.Urgente Justificativa.Urgência.Viagem Código.do.órgão.superior
## 1            NÃO                Sem informação                    26000
## 2            NÃO                Sem informação                    26000
## 3            NÃO                Sem informação                    26000
## 4            NÃO                Sem informação                    26000
## 5            NÃO                Sem informação                    26000
## 6            NÃO                Sem informação                    26000
##   Nome.do.órgão.superior Código.órgão.solicitante
## 1 Ministério da Educação                    26291
## 2 Ministério da Educação                    26291
## 3 Ministério da Educação                    26291
## 4 Ministério da Educação                    26291
## 5 Ministério da Educação                    26291
## 6 Ministério da Educação                    26291
##                                                 Nome.órgão.solicitante
## 1 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
## 2 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
## 3 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
## 4 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
## 5 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
## 6 Fundação Coordenação de Aperfeiçoamento de Pessoal de Nível Superior
##     CPF.viajante                             Nome
## 1 ***.377.624-** MARINA FERREIRA KITAZONO ANTUNES
## 2 ***.831.975-** JORGE ANDRE DE CARVALHO MENDONCA
## 3 ***.325.718-**       MARCO ANTONIO COUTO JUNIOR
## 4 ***.003.005-**             OLIVAL FREIRE JUNIOR
## 5 ***.660.311-**    CARINA MENDES DOS SANTOS MELO
## 6 ***.655.130-**            RAFAEL RAMIRES JAQUES
##                                   Cargo Função Descrição.Função
## 1                                           -1    Não Informado
## 2                                           -1    Não Informado
## 3             PESQUISADOR EM GEOCIENCIA     -1    Não Informado
## 4      PROFESSOR DO MAGISTERIO SUPERIOR     -1    Não Informado
## 5                             TECNICO I     -1    Não Informado
## 6 PROFESSOR ENS BASICO TECN TECNOLOGICO     -1    Não Informado
##   Período...Data.de.início Período...Data.de.fim          Destinos
## 1               06/02/2019            07/02/2019         Recife/PE
## 2               01/02/2019            02/02/2019         Recife/PE
## 3               01/02/2019            01/02/2019      São Paulo/SP
## 4               17/02/2019            18/02/2019       Salvador/BA
## 5               20/02/2019            21/02/2019 Rio de Janeiro/RJ
## 6               06/03/2019            07/03/2019   Porto Alegre/RS
##                                                                       Motivo
## 1 Regresso de bolsista CAPES do exterior- PE ( PROGRAMAS ESTRATÉGICOS -DRI )
## 2            Capacitação PDSE (Programa de Doutorado Sanduíche no Exterior).
## 3                                             Capacitação no exterior - PDSE
## 4                         Programa de Professor Visitante no Exterior - PVEX
## 5                                            Capacitação no exterior - PDSE.
## 6            Capacitação PDSE (Programa de Doutorado Sanduíche no Exterior).
##   Valor.diárias Valor.passagens Valor.outros.gastos
## 1             0         3406.33                   0
## 2             0         2925.83                   0
## 3             0         2760.02                   0
## 4             0         2875.92                   0
## 5             0         2420.48                   0
## 6             0         1262.50                   0
\end{verbatim}

Com isso, iremosveridicar as dimensões do DataSet (Linhas x Colunas).

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{dim}\NormalTok{(viagens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] 838332     21
\end{verbatim}

Em seguida iremos recuperar algumas informações do DataSet, como o valor
minimo, maximo e a média, referente as viagens a serviço. Para isso,
iremos utilizar a função summary().

Primeiramente, vamos acessar sua documentação.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{?summary}
\end{Highlighting}
\end{Shaded}

Em seguida, utilizamos a função no nosso DataSet.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(viagens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##  Identificador.do.processo.de.viagem Número.da.Proposta..PCDP.
##  Min.   :1.505e+07                   Length:838332            
##  1st Qu.:1.602e+07                   Class :character         
##  Median :1.629e+07                   Mode  :character         
##  Mean   :2.099e+07                                            
##  3rd Qu.:1.655e+07                                            
##  Max.   :2.019e+09                                            
##    Situação         Viagem.Urgente     Justificativa.Urgência.Viagem
##  Length:838332      Length:838332      Length:838332                
##  Class :character   Class :character   Class :character             
##  Mode  :character   Mode  :character   Mode  :character             
##                                                                     
##                                                                     
##                                                                     
##  Código.do.órgão.superior Nome.do.órgão.superior Código.órgão.solicitante
##  Min.   :   -1            Length:838332          Min.   :   -1           
##  1st Qu.:25000            Class :character       1st Qu.:26000           
##  Median :26000            Mode  :character       Median :26434           
##  Mean   :30950                                   Mean   :30974           
##  3rd Qu.:39000                                   3rd Qu.:37202           
##  Max.   :63000                                   Max.   :91214           
##  Nome.órgão.solicitante CPF.viajante           Nome          
##  Length:838332          Length:838332      Length:838332     
##  Class :character       Class :character   Class :character  
##  Mode  :character       Mode  :character   Mode  :character  
##                                                              
##                                                              
##                                                              
##     Cargo              Função          Descrição.Função  
##  Length:838332      Length:838332      Length:838332     
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##  Período...Data.de.início Período...Data.de.fim   Destinos        
##  Length:838332            Length:838332         Length:838332     
##  Class :character         Class :character      Class :character  
##  Mode  :character         Mode  :character      Mode  :character  
##                                                                   
##                                                                   
##                                                                   
##     Motivo          Valor.diárias      Valor.passagens    Valor.outros.gastos
##  Length:838332      Min.   :     0.0   Min.   :     0.0   Min.   :    0.00   
##  Class :character   1st Qu.:    88.5   1st Qu.:     0.0   1st Qu.:    0.00   
##  Mode  :character   Median :   431.3   Median :     0.0   Median :    0.00   
##                     Mean   :   953.3   Mean   :   590.4   Mean   :   21.51   
##                     3rd Qu.:   817.2   3rd Qu.:   894.6   3rd Qu.:    0.00   
##                     Max.   :104793.1   Max.   :155531.4   Max.   :29546.00
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{summary}\NormalTok{(viagens}\OperatorTok{$}\NormalTok{Valor.passagens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
##      0.0      0.0      0.0    590.4    894.6 155531.4
\end{verbatim}

Agora, iremos verificar o tipo dos dados de cada coluna. Para isso,
iremos instalar o pacote ``dplyr'' install.packages(``dplyr'')

Em seguida carregamos o pacote instalado.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{library}\NormalTok{(dplyr)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: package 'dplyr' was built under R version 4.0.2
\end{verbatim}

\begin{verbatim}
## 
## Attaching package: 'dplyr'
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:stats':
## 
##     filter, lag
\end{verbatim}

\begin{verbatim}
## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union
\end{verbatim}

Com o pacote ``dplyr'' carregado. Iremos utilizar a funcao ``glimpse''
para verificar o tipo dos dados de cada coluna.

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{glimpse}\NormalTok{(viagens)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Rows: 838,332
## Columns: 21
## $ Identificador.do.processo.de.viagem <int> 15045825, 15100682, 15114708, 1...
## $ Número.da.Proposta..PCDP.           <chr> "Sem informação", "Sem informaç...
## $ Situação                            <chr> "Realizada", "Realizada", "Real...
## $ Viagem.Urgente                      <chr> "NÃO", "NÃO", "NÃO", "NÃO", "NÃ...
## $ Justificativa.Urgência.Viagem       <chr> "Sem informação", "Sem informaç...
## $ Código.do.órgão.superior            <int> 26000, 26000, 26000, 26000, 260...
## $ Nome.do.órgão.superior              <chr> "Ministério da Educação", "Mini...
## $ Código.órgão.solicitante            <int> 26291, 26291, 26291, 26291, 262...
## $ Nome.órgão.solicitante              <chr> "Fundação Coordenação de Aperfe...
## $ CPF.viajante                        <chr> "***.377.624-**", "***.831.975-...
## $ Nome                                <chr> "MARINA FERREIRA KITAZONO ANTUN...
## $ Cargo                               <chr> "", "", "PESQUISADOR EM GEOCIEN...
## $ Função                              <chr> "-1", "-1", "-1", "-1", "-1", "...
## $ Descrição.Função                    <chr> "Não Informado", "Não Informado...
## $ Período...Data.de.início            <chr> "06/02/2019", "01/02/2019", "01...
## $ Período...Data.de.fim               <chr> "07/02/2019", "02/02/2019", "01...
## $ Destinos                            <chr> "Recife/PE", "Recife/PE", "São ...
## $ Motivo                              <chr> "Regresso de bolsista CAPES do ...
## $ Valor.diárias                       <dbl> 0.00, 0.00, 0.00, 0.00, 0.00, 0...
## $ Valor.passagens                     <dbl> 3406.33, 2925.83, 2760.02, 2875...
## $ Valor.outros.gastos                 <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
\end{verbatim}

\hypertarget{tratando-os-dados-obtidos}{%
\subsection{Tratando os dados obtidos}\label{tratando-os-dados-obtidos}}

\end{document}
